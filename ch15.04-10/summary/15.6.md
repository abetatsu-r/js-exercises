## 0. intro

Reactみたいな再利用可能なコンポーネントのうちブラウザが提供しているものがあり、これをWeb Componentという。

## 1. Web Componentsの使い方

web componentsはmodule形式で読み込み、独自定義されたHTMLタグを用いて記述することで利用できる。type=moduleとして読み込まれるため、HTMLパーサが解析を行った後にWebComponentsは読み込まれる。正しく動作するのはHTMLパーサが不可解な入力からもDOMツリーを構成できるからだ。また、通常の要素と同じようにquerySelectorで取得できる。

## 2. HTMLテンプレート

templateタグは、Webページ中に頻繁に表示されるコンポーネントの最適化に用いられる。templateタグ内に記述された要素はWebページ上に表示されないため、templateタグ内によく利用するHTML構造を記述し、JavaScriptを用いてこれを複製することで、表を動的に作成する場合などに用いられる。

## 3. カスタム要素

カスタム要素は、HTMLタグ名とJavaScriptのクラスを関連付ける機能である。カスタム要素を定義するとHTML上でタグが解析されると関連付けられたclassのインスタンスが生成される。定義にはcustomElements.define()メソッドを用いる。第二引数のクラスはHTMLElementsを継承する必要があり、connectedCallbackなどのメソッドを設定しよう。

## 4. シャドウDOM

シャドウDOMは、通常のDOMツリーから見えないDOMツリーのことである。通常のHTML要素(シャドウホスト)にシャドウルートを接続することで、シャドウルート以下の子要素やテキストノードをカプセル化することができる。通常のHTML要素をシャドウホストにするためにはattachShadow()メソッドを呼び出せばいい。